#!/usr/bin/env php
<?php
// bin/doctrine
//
require_once __DIR__ . '/../vendor/autoload.php';
require_once __DIR__ . '/../src/Infrastructure/Env.php';

use Doctrine\ORM\Tools\Console\ConsoleRunner;
use Doctrine\ORM\Tools\Console\EntityManagerProvider\SingleManagerProvider;
use Itsmng\Infrastructure\Persistence\EntityManagerProvider;

try {
    $entityManager = EntityManagerProvider::getEntityManager();
} catch (\Exception $e) {
    echo '[ERROR] ' . $e->getMessage() . PHP_EOL;
    exit(1);
}

ConsoleRunner::run(
    new SingleManagerProvider($entityManager)
);
